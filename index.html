<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Markdown Editor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/4.0.0/github-markdown.min.css">
  
    <style>
        body {
            display: flex;
            flex-direction: column;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            background-color: #1E1E1E;
            color: #D4D4D4;
        }

        .editor-preview {
            display: flex;
            height: calc(100% - 3em);
        }

        textarea, .preview {
            box-sizing: border-box;
            width: 50%;
            padding: 1em;
            border: none;
            height: 100%;
            outline: none;
            resize: none;
            background-color: #1E1E1E;
            color: #D4D4D4;
        }

        .preview {
            overflow: auto;
        }

        .markdown-body {
            min-width: 200px;
        }

        .gutter {
            background-color: #505050;
            background-repeat: no-repeat;
            background-position: 50%;
        }

        .menu {
            background-color: #f8f9fa;
            display: flex;
            justify-content: space-between;
            padding: 1em 1em;
            background-color: #1E1E1E;
            color: #D4D4D4;
        }

        /* Style for the font size selector */
        select {
            padding: 0.5em;
        }

      /* width */
      ::-webkit-scrollbar {
        width: 5px;
      }

      /* Track */
      ::-webkit-scrollbar-track {
        background: #1E1E1E; 
      }

      /* Handle */
      ::-webkit-scrollbar-thumb {
        background: #D4D4D4; 
      }

      button {
          padding: 0.5em 1em;
          margin: 0 5px;
          cursor: pointer;
          border: none;
          border-radius: 5px;
          outline: none;
      }

      #saveButton {
          background-color: #28a745; /* Green color for Save button */
          color: #fff;
      }

      #loadButton {
          background-color: #007BFF; /* Blue color for Load button */
          color: #fff;
      }

      button:hover {
          opacity: 0.8; /* Slightly reduce opacity on hover for a subtle effect */
      }

      .menu a {
          text-decoration: none;
          color: #007BFF; /* Blue color for links */
          margin-right: 15px;
          transition: color 0.3s ease-in-out;
      }

      .menu a:hover {
          color: #0056b3; /* Darker blue color on hover */
      }

      select {
          padding: 0.5em;
          border: 1px solid gray; 
          border-radius: 5px;
          background-color: gray;
          color: #000;
          cursor: pointer;
      }

      select:hover {
          border-color: black; 
      }

     
    </style>
</head>
<body>
    <div class="menu">
        <div>
            <a href="#home">About</a>
            <a href="#about">Syntax Guide</a>
          <button id="saveButton">Save</button>
          <button id="loadButton">Load</button>
        </div>
        <!-- Font size selector -->
        <div>
            <label for="fontSize">Font Size:</label>
            <select id="fontSize" onchange="changeFontSize(this.value)">
                <option value="12px">12px</option>
                <option value="16px">16px</option>
                <option value="20px">20px</option>
                <option value="24px">24px</option>
            </select>
        </div>
    </div>

    <div class="editor-preview">
        <textarea id="editor"></textarea>
        <div id="preview" class="preview markdown-body"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/split.js/1.6.2/split.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"></script>

  <input type="file" id="fileInput" style="display: none;" />
    <script>
        var converter = new showdown.Converter();
        var editor = document.getElementById('editor');
        var preview = document.getElementById('preview');

        // Function to change font size
        function changeFontSize(fontSize) {
            preview.style.fontSize = fontSize;
        }

        editor.addEventListener('input', function () {
            preview.innerHTML = converter.makeHtml(editor.value);
        });

        Split(['#editor', '#preview'], {
            sizes: [50, 50]
        });

      function saveToDisk() {
          var text = editor.value;
          var filename = "markdown.md";
          var blob = new Blob([text], {type: "text/markdown;charset=utf-8"});
          var url = URL.createObjectURL(blob);
          var a = document.createElement('a');
          a.href = url;
          a.download = filename;
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
      }
      function loadFromDisk() {
          var input = document.getElementById('fileInput');
          input.click();
          input.addEventListener('change', function(e) {
              var file = e.target.files[0];
              if (file) {
                  var reader = new FileReader();
                  reader.onload = function(e) {
                      editor.value = e.target.result;
                      // Update the preview pane
                      preview.innerHTML = converter.makeHtml(editor.value);
                  };
                  reader.readAsText(file, "UTF-8");
              }
          }, {once: true});
      }
      // Wire up the buttons
      document.getElementById('saveButton').addEventListener('click', saveToDisk);
      document.getElementById('loadButton').addEventListener('click', loadFromDisk);

    </script>
</body>
</html>
